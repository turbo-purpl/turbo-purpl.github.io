<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; connect-src 'self'; img-src 'self' data:; frame-src 'none'; object-src 'none'; base-uri 'self'; form-action 'self';">
    <meta name="X-Content-Type-Options" content="nosniff">
    <meta name="X-Frame-Options" content="DENY">
    <meta name="X-XSS-Protection" content="1; mode=block">
    <title>MetalVPN - Личный кабинет</title>
    
    <!-- Preconnect для оптимизации загрузки шрифтов -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Nunito+Sans:wght@300;400;500;600&family=Work+Sans:wght@300;400;500;600&family=Mr+Dafoe&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet">
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo" id="logoBtn" role="button" tabindex="0" aria-label="Вернуться наверх">Metal</div>
            <button class="btn btn-primary btn-header" id="topupBtn" aria-label="Пополнить баланс">
                Пополнить
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main" id="mainContent">
        <!-- Home View -->
        <section class="view" data-view="home" id="homeView">
            <div class="card main-card">
                <div class="subscription-info">
                    <div class="subscription-header">
                        <div class="time-remaining">
                            <div class="time-label">Осталось</div>
                            <div class="time-value-group">
                                <span class="time-number">15</span>
                                <span class="time-unit">дней</span>
                                <span class="time-number">8</span>
                                <span class="time-unit">часов</span>
                            </div>
                        </div>
                        <span class="config-badge">moscow-01.ovpn</span>
                    </div>
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 65%"></div>
                        </div>
                    </div>
                    <div class="meta-info">
                        <div class="meta-item">
                            <span class="meta-label">Дата окончания:</span>
                            <span class="meta-value skeleton-text" data-skeleton="text">15.01.2025</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Следующее списание:</span>
                            <span class="meta-value skeleton-text" data-skeleton="text">15.01.2025</span>
                        </div>
                    </div>
                </div>
                <div class="divider"></div>
                <div class="connection-info">
                    <div class="info-item">
                        <span class="info-label">Протокол:</span>
                        <span class="info-value skeleton-text" data-skeleton="text">OpenVPN</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Локация:</span>
                        <span class="info-value skeleton-text" data-skeleton="text">Москва, Россия</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Plans View -->
        <section class="view" data-view="plans" id="plansView" style="display: none;">
            <div class="plan-section" data-section="protocol">
                <div class="plan-label">Протокол</div>
                <div class="segmented-control" id="protocolControl">
                    <button class="segment active" data-value="openvpn">OpenVPN</button>
                </div>
            </div>

            <div class="plan-section" data-section="location">
                <div class="plan-label">Локация</div>
                <div class="segmented-control" id="locationControl">
                    <button class="segment active" data-value="netherlands">Нидерланды</button>
                </div>
            </div>

            <div class="plan-section" data-section="devices">
                <div class="plan-label">Количество устройств</div>
                <div class="segmented-control" id="devicesControl">
                    <button class="segment active" data-value="1">1</button>
                    <button class="segment" data-value="2">2</button>
                    <button class="segment" data-value="custom">Другое</button>
                </div>
                <div class="custom-devices-input" id="customDevicesInput" style="display: none;">
                    <input type="number" class="input-field" id="customDevicesValue" placeholder="Введите количество (1-10)" min="1" max="10" inputmode="numeric" pattern="[0-9]*">
                </div>
            </div>

            <div class="plan-section" data-section="period">
                <div class="plan-label">Срок</div>
                <div class="segmented-control" id="periodControl">
                    <button class="segment active" data-value="1">1 месяц</button>
                    <button class="segment" data-value="2">2 месяца</button>
                    <button class="segment" data-value="3">3 месяца</button>
                </div>
            </div>

            <button class="btn btn-primary btn-block" id="connectBtn">
                <span>Подключить за</span>
                <span class="btn-price" id="priceValue">500 ₽</span>
            </button>
        </section>

        <!-- Guide View -->
        <section class="view" data-view="guide" id="guideView" style="display: none;">
            <div class="plan-section">
                <div class="plan-label">Протокол</div>
                <div class="segmented-control" id="protocolControl">
                    <button class="segment active" data-value="openvpn">OpenVPN</button>
                </div>
            </div>

            <div class="plan-section">
                <div class="plan-label">Платформа</div>
                <div class="segmented-control" id="platformControl">
                    <button class="segment" data-platform="android">Android</button>
                    <button class="segment" data-platform="ios">iOS</button>
                    <button class="segment" data-platform="windows">Windows</button>
                    <button class="segment" data-platform="macos">macOS</button>
                </div>
            </div>

            <div class="info-note" id="supportInfoNote" role="button" tabindex="0">
                <span class="material-symbols-outlined">info</span>
                <span>Если у вас возникли проблемы, обратитесь в поддержку</span>
            </div>

            <div class="guide-content" id="guideContent">
                <div class="guide-platform" data-platform="android" style="display: none;">
                    <ol class="guide-steps">
                        <li>
                            <div class="guide-step-content">
                                <div class="guide-step-title">Установка приложение</div>
                                <div class="guide-step-description">Скачайте приложение OpenVPN Connect из <a href="#" class="guide-link">Google Play Store</a></div>
                            </div>
                        </li>
                        <li>
                            <div class="guide-step-content">
                                <div class="guide-step-title">Импорт конфигурации</div>
                                <div class="guide-step-description">Откройте приложение и нажмите "Импорт"</div>
                            </div>
                        </li>
                        <li>
                            <div class="guide-step-content">
                                <div class="guide-step-title">Выбор файла</div>
                                <div class="guide-step-description">Выберите файл конфигурации, который вы получили</div>
                            </div>
                        </li>
                        <li>
                            <div class="guide-step-content">
                                <div class="guide-step-title">Подключение</div>
                                <div class="guide-step-description">Нажмите "Подключиться"</div>
                            </div>
                        </li>
                    </ol>
                </div>
                <div class="guide-platform" data-platform="ios" style="display: none;">
                    <ol class="guide-steps">
                        <li>
                            <div class="guide-step-content">
                                <div class="guide-step-title">Установка приложение</div>
                                <div class="guide-step-description">Скачайте приложение OpenVPN Connect из <a href="#" class="guide-link">App Store</a></div>
                            </div>
                        </li>
                        <li>
                            <div class="guide-step-content">
                                <div class="guide-step-title">Импорт конфигурации</div>
                                <div class="guide-step-description">Откройте приложение и нажмите "+"</div>
                            </div>
                        </li>
                        <li>
                            <div class="guide-step-content">
                                <div class="guide-step-title">Выбор файла</div>
                                <div class="guide-step-description">Импортируйте файл конфигурации через файлы или URL</div>
                            </div>
                        </li>
                        <li>
                            <div class="guide-step-content">
                                <div class="guide-step-title">Подключение</div>
                                <div class="guide-step-description">Переключите тумблер для подключения</div>
                            </div>
                        </li>
                    </ol>
                </div>
                <div class="guide-platform" data-platform="windows" style="display: none;">
                    <ol class="guide-steps">
                        <li>
                            <div class="guide-step-content">
                                <div class="guide-step-title">Установка приложение</div>
                                <div class="guide-step-description">Скачайте и установите <a href="#" class="guide-link">OpenVPN Client для Windows</a></div>
                            </div>
                        </li>
                        <li>
                            <div class="guide-step-content">
                                <div class="guide-step-title">Копирование файла</div>
                                <div class="guide-step-description">Скопируйте файл конфигурации в папку config</div>
                            </div>
                        </li>
                        <li>
                            <div class="guide-step-content">
                                <div class="guide-step-title">Запуск приложения</div>
                                <div class="guide-step-description">Запустите OpenVPN GUI</div>
                            </div>
                        </li>
                        <li>
                            <div class="guide-step-content">
                                <div class="guide-step-title">Подключение</div>
                                <div class="guide-step-description">Щелкните правой кнопкой на иконке в трее, выберите ваш сервер и нажмите "Connect"</div>
                            </div>
                        </li>
                    </ol>
                </div>
                <div class="guide-platform" data-platform="macos" style="display: none;">
                    <ol class="guide-steps">
                        <li>
                            <div class="guide-step-content">
                                <div class="guide-step-title">Установка приложение</div>
                                <div class="guide-step-description">Скачайте и установите <a href="#" class="guide-link">Tunnelblick для macOS</a></div>
                            </div>
                        </li>
                        <li>
                            <div class="guide-step-content">
                                <div class="guide-step-title">Импорт конфигурации</div>
                                <div class="guide-step-description">Дважды щелкните на файле конфигурации</div>
                            </div>
                        </li>
                        <li>
                            <div class="guide-step-content">
                                <div class="guide-step-title">Ввод пароля</div>
                                <div class="guide-step-description">Введите пароль администратора при необходимости</div>
                            </div>
                        </li>
                        <li>
                            <div class="guide-step-content">
                                <div class="guide-step-title">Подключение</div>
                                <div class="guide-step-description">Нажмите на иконку Tunnelblick в строке меню, выберите ваш сервер и нажмите "Connect"</div>
                            </div>
                        </li>
                    </ol>
                </div>
            </div>
        </section>

        <!-- Profile View -->
        <section class="view" data-view="profile" id="profileView" style="display: none;">
            <div class="plan-section">
                <div class="profile-header">
                    <div class="avatar skeleton-circle" data-skeleton="avatar"></div>
                    <div class="profile-info-simple">
                        <div class="profile-name-simple skeleton-text" data-skeleton="text">Иван Иванов</div>
                        <div class="profile-email-simple skeleton-text" data-skeleton="text">username</div>
                    </div>
                </div>
                <div class="profile-balance">
                    <div class="balance-breakdown">
                        <div class="balance-item">
                            <span class="balance-method">Telegram Stars:</span>
                            <span class="balance-value" id="balanceTelegramStars">0</span>
                        </div>
                        <div class="balance-item">
                            <span class="balance-method">TON-TON:</span>
                            <span class="balance-value" id="balanceTonTon">0</span>
                        </div>
                        <div class="balance-item">
                            <span class="balance-method">USDT-TON:</span>
                            <span class="balance-value" id="balanceUsdtTon">0</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="plan-section">
                <div class="settings-list">
                    <button class="setting-item" data-setting="language">
                        <div class="setting-content">
                            <span class="material-symbols-outlined setting-icon">language</span>
                            <span class="setting-label">Язык</span>
                        </div>
                        <span class="setting-value" id="languageValue">Русский</span>
                    </button>
                    <button class="setting-item" data-setting="currency">
                        <div class="setting-content">
                            <span class="material-symbols-outlined setting-icon">attach_money</span>
                            <span class="setting-label">Валюта</span>
                        </div>
                        <span class="setting-value" id="currencyValue">₽ (RUB)</span>
                    </button>
                    <button class="setting-item" data-setting="support">
                        <div class="setting-content">
                            <span class="material-symbols-outlined setting-icon">support_agent</span>
                            <span class="setting-label">Поддержка</span>
                        </div>
                    </button>
                </div>
            </div>

            <div class="plan-section">
                <div class="plan-label plan-label-with-sum">
                    <span>История операций</span>
                    <span class="plan-label-sum">Сумма</span>
                </div>
                <div class="operations-list">
                    <div class="operation-item">
                        <div class="operation-content">
                            <span class="material-symbols-outlined operation-icon positive">add</span>
                            <div class="operation-info">
                                <span class="operation-type">Пополнение</span>
                                <span class="operation-date">10.01.2025</span>
                            </div>
                        </div>
                        <span class="operation-amount positive">500</span>
                    </div>
                    <div class="operation-item">
                        <div class="operation-content">
                            <span class="material-symbols-outlined operation-icon negative">remove</span>
                            <div class="operation-info">
                                <span class="operation-type">Подписка</span>
                                <span class="operation-date">01.01.2025</span>
                            </div>
                        </div>
                        <span class="operation-amount negative">500</span>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer / Tab Bar -->
    <footer class="footer">
        <nav class="tab-bar">
            <button class="tab-item active" data-view="home" aria-label="Главная">
                <span class="material-symbols-outlined tab-icon">home</span>
                <span class="tab-label">Главная</span>
            </button>
            <button class="tab-item" data-view="plans" aria-label="Тариф">
                <span class="material-symbols-outlined tab-icon">sticky_note_2</span>
                <span class="tab-label">Тариф</span>
            </button>
            <button class="tab-item" data-view="guide" aria-label="Инструкция">
                <span class="material-symbols-outlined tab-icon">help_center</span>
                <span class="tab-label">Инструкция</span>
            </button>
            <button class="tab-item" data-view="profile" aria-label="Профиль">
                <span class="material-symbols-outlined tab-icon">account_circle</span>
                <span class="tab-label">Профиль</span>
            </button>
        </nav>
    </footer>

    <!-- Topup Modal -->
    <div class="modal-overlay" id="topupModal" aria-hidden="true">
        <div class="modal-sheet">
            <div class="modal-handle"></div>
            <div class="modal-header">
                <h3 class="modal-title">Пополнить баланс</h3>
                <button class="modal-close" aria-label="Закрыть">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>
            <div class="modal-content">
                <div class="amount-selector">
                    <label class="control-label">Выберите сумму</label>
                    <div class="amount-buttons">
                        <button class="amount-btn" data-amount="50">50₽</button>
                        <button class="amount-btn" data-amount="100">100₽</button>
                    </div>
                    <div class="custom-amount-input" id="customAmountInput">
                        <input type="number" class="input-field" id="customAmount" placeholder="Введите сумму" min="1" inputmode="numeric" pattern="[0-9]*">
                    </div>
                </div>

                <div class="payment-methods">
                    <label class="control-label">Способ оплаты</label>
                    <div class="payment-options">
                        <button class="payment-option" data-method="telegram-stars">
                            <span class="payment-icon telegram-stars">
                                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAADsAAAA7AF5KHG9AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAoFJREFUWIXtls9LVFEUxz/nvRHLokWF/Vg4M+qo05hCIFSkqLNoFbNw498gbcOVIe6ibeA6cBFtXZZIhBTaxgjGGUXHEouyVRTpzL2nxZiNzMwb543mxi8ceLx7v+f7fef+eAdOcMwQv0T9EgyTMxOA4gYeypVMxk+egF8DZO1TkF4AciYE9PlJ4/gh6XpTHEsvFnajVzPBwf9mACNjGGFfWJ3wk6rqPaDLoX7EzpYetP0S2XhVTb7qK2C1+Ov3quCOVZuuqgpoMngbmPM2aPsk9un1oRnQ5dZ6fmebcaQNGAVuVaC8AR5hNc2pulWJrGwf2IAuBsM4cg+kHdUI0Ao0AW4lo2VggI/ACiLLoCmsTkv3+lqRAV1saURtEjjvU+xgEL5j3KjcWPkGhRfRju3GOWLxPC4gtguY2W9AZB7LGhA+YgNrGGdhT7ZwRN81N2GYIb/2R4F1nMCg9KRXSxoA0PnQZXLuDHDtUKWVNK7E5ebKRuHrksdQ34YvkXNeAp2Hoy5L4MblTmqzaKQcRedaGjHOC9CuGtWTUBeXvuTnkta8mDrbdhHMAkjIn7ZmwO2RgfRWuRme/wIZSG9hHYMV/IWT8xKHShWYvtpA/ZkflYx6wKKnz8nd9z/LTfBOHDgbw4rjvwLiINtRLwlvA1Y7C7oef2Gs50ny7gmtxGroW/MQidViwMv9L+DJ7vN9oKHMvOteEhWWQKIlOp8sOWcSiEgiNSqJ1CgQIedMYiRb3CVJDXvAsFWwnhYrU6jtkKHkiCT+3WqSSG3KUHIEtR1YmcrP3eUZvnpJeB/D5+3tqDMO7KA8luHkB0/Df3nPop0ID3Cow+i4DC+lD8I7wbHgD7fDEJdvHJaeAAAAAElFTkSuQmCC" alt="Telegram Stars">
                            </span>
                            <span class="payment-label">Telegram Stars</span>
                        </button>
                        <button class="payment-option" data-method="ton-ton">
                            <span class="payment-icon ton-ton">
                                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAJcAAACXAETPAk3AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAA+pJREFUWIW9l1tMHFUYx39nZmB3WQq0gO5WNNaK2rQpLdAlMRiFmMaIiVFj4oNpfFBf1KhNWFoxZNHGAkY0xEQffPASlcSoiUGNiQWD4SJeuFjSeClUXRcCItdlF5aZ48MC7rKyM4vQ/+N3+//PmfN9c47AKlp6swinVyGpRMgiJNcCOaveGQSXkAwgRTti8VNqyuetlBWmES8M3ICi1yB4AMiwKHcR5PsItRHv0V+2JqC520HE/jzIJwHNIvFGRIBXCM3V4asIWxfQ1F+IND4CDm2ReCN6WZH3Uls6Zi7g7LdHUZQvgPxtIl+F9KOIKqpLhjYXEF151/aTx4gQxjG8nvE1i7Lu83XYkcYHO0cOIApAbaO525EowJF9BijaOfJVSEpYtp9alwREW03Vh9n6aU8VCwi9EK9nPLoDil5zGckBMkGrAxC09GYRShsjyZBxaAqPFedT6spAMRldugHfjAV5rX+SJV0mCw1CyK0RTq8CmXTCNdy6l0eL8hj+K36WXL/bhgQuTi+t29JUwf035ZDn0Hj260Cysk6E404NSWXyNcGBXDtDkyHK3vkpzt52334ihuSej0fi7N0P3kh5QaZZWZBUKghpevJbL0zjcTu5uzDbtKbH7aTM7eTLS3PmAuCwgmSfWdRb5/9maDLESxUF2NTND4EioOX2AgILEV7+bsKKgOsUIMssSpeSp9v97M+x8UTJFZvGPXQolzK3E+9XfoIRw4qAbMU8Jor23+b55NdZ6m524XKmJfh3paucuWUvPYEgrRemrZZFASx9LICT7X7SVYX6cneCr77czZXONJ465ydp88VjVkEwajX64swSr/4wwcOH8yhx/du5B3LtPF6cz9vDU/SNBa3Tw4iCZCCVjPqucSYWI7x421WI1fPYXFnA0oqktjNp3ydCMKhF73DyEas588s6vq4xXj9+DbNLOrqU7LFr1HYGCCxEUhOAPKcQtrUBKe3bG4NTDE6EyLap7LFrjM4u02yt7WIRZNHxuYLv4ALI1lQy19pyDdUdfsIrltouFu/hO7gQ/QMKtRFpnAAS+2sTdPw+z5vnp9ht0/jw55lUyZcxjAaIvZI1ft8EVKdaaUsQogFv8WmIvRGF5uqA3stA34N9l29dS5yrqc+FVPuAq3eIPECa6uHkkT/XDPGj2OsZR+EukP6E1P+PP5DyjljyRAEA1SVD6Eox0LmN5D0I3cOp0h83Ov77Z/RM8SSOrONI8RwpzogNWAZxFkdWRexbIBbmj9OmPhdodUh5AnBaJA4C72IYjZw+NpIs0FzAGnzDmWSEq4AKDI4g2Efs81wyipD9SNFB2P5ZdMCZ4x87CUycKRBnKAAAAABJRU5ErkJggg==" alt="TON">
                            </span>
                            <span class="payment-label">TON-TON</span>
                        </button>
                        <button class="payment-option" data-method="usdt-ton">
                            <span class="payment-icon usdt-ton"></span>
                            <span class="payment-label">USDT-TON</span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary btn-block" id="confirmTopupBtn">
                    Пополнить
                </button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal-overlay" id="settingsModal" aria-hidden="true">
        <div class="modal-sheet">
            <div class="modal-handle"></div>
            <div class="modal-header">
                <h3 class="modal-title" id="settingsModalTitle">Настройки</h3>
                <button class="modal-close" aria-label="Закрыть">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>
            <div class="modal-content">
                <div class="settings-list" id="settingsList">
                    <!-- Динамически заполняется через JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
